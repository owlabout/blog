{"title":"Rsync Anwendungsfälle","metadata":{"slug":"rsync","link":"/posts/2019/02/rsync","dateString":"24.02.2019","date":"2019-02-24T00:00:00.000Z","author":"Lukas","thumbnail":"assets/aa17c8f68f.svg","tags":["devops","terminal"],"file":"posts/terminal/rsync.md"},"html":"<h1>Rsync Anwendungsfälle</h1>\n<div class=\"sticky__container\"><div><div class=\"sticky\"><pre><code class=\"language-bash\"><span class=\"token comment\"># Kopiere symlinks als Dateien  -> Wenn lokal source gesymlinked, aber remote nicht.</span>\n<span class=\"token function\">rsync</span> -aL --exclude <span class=\"token string\">\"symlinkedSourceDir\"</span> sourceDir user@example.com:/targetDir\n</code></pre>\n</div></div><div><p>Mittels <code>rsync</code> werden Dateien/Ordner von einem Ausgangsordner in einen Zielordner synchronisiert. Ähnlich wie <code>cp</code> (kopieren), nur dass es auch über SSH funktioniert und viele weitere Optionen möglich sind.</p>\n<p>Unter anderem:</p>\n<ul>\n<li>Dateien abhängig von ihrem Änderungszeitpunkt synchronisieren -&gt; verringert Volumen</li>\n<li>Dateien löschen, die im Ausgangsordner nicht vorhanden sind</li>\n<li>Symbolische Links erhalten</li>\n</ul>\n<h2>Drupal 7 mit symlinked Source</h2>\n<p>Ein Beispielszenario:\nAls Agentur betreut man mehrere Drupal 7 Webseiten, die alle up-to-date gehalten werden müssen.\nIm Falle eines Updates möchte man das Grundsystem nur einmal updaten.</p>\n<p>Die Ordnerstruktur könnte wie im Beispiel aussehen.</p>\n<pre><code>.\n+-- project1\n|   +-- includes -&gt; ../drupalSource/includes\n|   +-- misc -&gt; ../drupalSource/misc\n|   +-- ...\n+-- project2\n|   +-- includes -&gt; ../drupalSource/includes\n|   +-- ...\n+-- project3\n|   +-- ...\n+-- drupalSource\n|   +-- includes\n|   +-- misc\n|   +-- ...\n</code></pre>\n<p>Nun muss im Falle eines Updates nur der drupalSource Ordner upgedated werden.</p>\n"}
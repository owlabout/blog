<!DOCTYPE html> <html lang=de> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=app/logo-owl.png rel=icon type=image/png> <link href=client/main.3988107762.css rel=stylesheet><link href=client/[slug].e1cb1595.css rel=stylesheet><link href=client/client.7b2cd91c.css rel=stylesheet><link href=client/Icon.ec95d7e8.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Rsync Anwendungsfälle</title><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div class="layout__posts layout"> <main class=layout__posts> <header class=svelte-anaggn><div class="svelte-anaggn container"><a class=svelte-anaggn href=/ ><img alt="OwlAbout Blog Logo" src=/app/logo-blog.svg class=svelte-anaggn></a> </div></header> <div class=container><div class="has-sticky post svelte-1o3r1yk"><h1>Rsync Anwendungsfälle</h1> <div class=sticky__container><div><div class=sticky><pre><code class=language-bash><span class="token comment"># Kopiere symlinks als Dateien  -> Wenn lokal source gesymlinked, aber remote nicht.</span>
<span class="token function">rsync</span> -aL --exclude <span class="token string">"symlinkedSourceDir"</span> sourceDir user@example.com:/targetDir
</code></pre> </div></div><div><p>Mittels <code>rsync</code> werden Dateien/Ordner von einem Ausgangsordner in einen Zielordner synchronisiert. Ähnlich wie <code>cp</code> (kopieren), nur dass es auch über SSH funktioniert und viele weitere Optionen möglich sind.</p> <p>Unter anderem:</p> <ul> <li>Dateien abhängig von ihrem Änderungszeitpunkt synchronisieren -> verringert Volumen</li> <li>Dateien löschen, die im Ausgangsordner nicht vorhanden sind</li> <li>Symbolische Links erhalten</li> </ul> <h2>Drupal 7 mit symlinked Source</h2> <p>Ein Beispielszenario: Als Agentur betreut man mehrere Drupal 7 Webseiten, die alle up-to-date gehalten werden müssen. Im Falle eines Updates möchte man das Grundsystem nur einmal updaten.</p> <p>Die Ordnerstruktur könnte wie im Beispiel aussehen.</p> <pre><code>.
+-- project1
|   +-- includes -> ../drupalSource/includes
|   +-- misc -> ../drupalSource/misc
|   +-- ...
+-- project2
|   +-- includes -> ../drupalSource/includes
|   +-- ...
+-- project3
|   +-- ...
+-- drupalSource
|   +-- includes
|   +-- misc
|   +-- ...
</code></pre> <p>Nun muss im Falle eines Updates nur der drupalSource Ordner upgedated werden.</p> </div> <div class="svelte-1oyd8c1 author-container"><div class="svelte-1oyd8c1 post-footer-info">24.02.2019: Rsync Anwendungsfälle</div> <div class="svelte-1oyd8c1 author"><div class="svelte-1oyd8c1 tags"><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=terminal class=svelte-13cndpw role=img viewBox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><title>terminal</title><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z" fill=currentColor></path></svg></span><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=email class=svelte-13cndpw role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><title>email</title><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z" fill=currentColor></path></svg></span><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=devops class=svelte-13cndpw role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><title>devops</title><path d="M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z" fill=currentColor></path></svg></span><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=vue class=svelte-13cndpw role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><title>vue</title><path d="M356.9 64.3H280l-56 88.6-48-88.6H0L224 448 448 64.3h-91.1zm-301.2 32h53.8L224 294.5 338.4 96.3h53.8L224 384.5 55.7 96.3z" fill=currentColor></path></svg></span><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=node class=svelte-13cndpw role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><title>node</title><path d="M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z" fill=currentColor></path></svg></span></div> <div class="svelte-1oyd8c1 thumbnail"><img alt="" src=/images/lukas.jpg></div> <div class="svelte-1oyd8c1 info"><b>Lukas Ehnle</b> <p class=svelte-1oyd8c1>Full stack developer, with experience in too many web technologies to list here.</div></div> </div></div></div></div></main> <footer class=svelte-1txo2c3><div class="svelte-1txo2c3 container"><a class=svelte-1txo2c3 href=https://owlabout.de/impressum.html rel=noopener>Impressum</a> <a class=svelte-1txo2c3 href=https://owlabout.de/datenschutz.html rel=noopener>Datenschutz </a> <a class=svelte-1txo2c3 href=https://owlabout.de/#contact rel=noopener>Kontakt</a> <a class=svelte-1txo2c3 href=https://owlabout.de/ rel=noopener><img alt=owlabout src=/app/logo-owl.png class=svelte-1txo2c3></a></div></footer></div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,null,null,{post:{title:"Rsync Anwendungsfälle",metadata:{slug:"rsync",link:"\u002Fposts\u002F2019\u002F02\u002Frsync",dateString:"24.02.2019",date:"2019-02-24T00:00:00.000Z",author:"Lukas",thumbnail:"assets\u002Faa17c8f68f.svg",tags:["devops","terminal"],file:"posts\u002Fterminal\u002Frsync.md"},html:"\u003Ch1\u003ERsync Anwendungsfälle\u003C\u002Fh1\u003E\n\u003Cdiv class=\"sticky__container\"\u003E\u003Cdiv\u003E\u003Cdiv class=\"sticky\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token comment\"\u003E# Kopiere symlinks als Dateien  -\u003E Wenn lokal source gesymlinked, aber remote nicht.\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Ersync\u003C\u002Fspan\u003E -aL --exclude \u003Cspan class=\"token string\"\u003E\"symlinkedSourceDir\"\u003C\u002Fspan\u003E sourceDir user@example.com:\u002FtargetDir\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv\u003E\u003Cp\u003EMittels \u003Ccode\u003Ersync\u003C\u002Fcode\u003E werden Dateien\u002FOrdner von einem Ausgangsordner in einen Zielordner synchronisiert. Ähnlich wie \u003Ccode\u003Ecp\u003C\u002Fcode\u003E (kopieren), nur dass es auch über SSH funktioniert und viele weitere Optionen möglich sind.\u003C\u002Fp\u003E\n\u003Cp\u003EUnter anderem:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EDateien abhängig von ihrem Änderungszeitpunkt synchronisieren -&gt; verringert Volumen\u003C\u002Fli\u003E\n\u003Cli\u003EDateien löschen, die im Ausgangsordner nicht vorhanden sind\u003C\u002Fli\u003E\n\u003Cli\u003ESymbolische Links erhalten\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2\u003EDrupal 7 mit symlinked Source\u003C\u002Fh2\u003E\n\u003Cp\u003EEin Beispielszenario:\nAls Agentur betreut man mehrere Drupal 7 Webseiten, die alle up-to-date gehalten werden müssen.\nIm Falle eines Updates möchte man das Grundsystem nur einmal updaten.\u003C\u002Fp\u003E\n\u003Cp\u003EDie Ordnerstruktur könnte wie im Beispiel aussehen.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E.\n+-- project1\n|   +-- includes -&gt; ..\u002FdrupalSource\u002Fincludes\n|   +-- misc -&gt; ..\u002FdrupalSource\u002Fmisc\n|   +-- ...\n+-- project2\n|   +-- includes -&gt; ..\u002FdrupalSource\u002Fincludes\n|   +-- ...\n+-- project3\n|   +-- ...\n+-- drupalSource\n|   +-- includes\n|   +-- misc\n|   +-- ...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENun muss im Falle eines Updates nur der drupalSource Ordner upgedated werden.\u003C\u002Fp\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.7b2cd91c.js"}catch(e){main="/client/legacy/client.fdd6d4c4.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 
{"title":"Wie verhindere ich, dass meine Emails im Spam landen?","metadata":{"slug":"email-spam","link":"/posts/2019/04/email-spam","dateString":"06.04.2019","date":"2019-04-06T00:00:00.000Z","author":"Lukas","thumbnail":"assets/6ecc7aea40.svg","tags":["email","devops"],"file":"posts/devops/email-spam.md"},"html":"<h1>Wie verhindere ich, dass meine Emails im Spam landen?</h1>\n<p>Angeblich sind bis zu 90% des gesamten Emailverkehrs Spam-Mails. Alle Anbieter versuchen diese Mails auszufiltern. Wie verhindere ich, dass meine legitimen Mails gefiltert werden?</p>\n<p>Zunächst kann man Tools wie beispielsweise <a href=\"https://www.mail-tester.com\">Mail-tester.com</a> nutzen um seine Mails zu testen. Möglichst mit Originalinhalt, da auch dieser eine Rolle spielt.</p>\n<p>Zusätzlich kommt es auf die richtige Konfiguration der Domain an.</p>\n<h2>SPF</h2>\n<div class=\"sticky__container\"><div><div class=\"sticky\"><pre><code>v=spf1 include:eu.mailgun.org -all\n</code></pre>\nDNS TXT Eintrag für SPF</div></div><div><p>Sender Policy Framework ist ein Verfahren mit dem Phishing verhindert werden soll.</p>\n<p>Dabei wird für die Domain von der eine Email gesendet wird ein DNS txt Eintrag angelegt.\nDieser Eintrag enthält alle Server (Domains/IPs) die authorisiert sind Emails im Namen der Email-Domain zu senden.</p>\n<p>Es wird außerdem angegeben wie unauthorisierte Emails bevorzugt behandelt werden sollen.</p>\n<h2>DKIM</h2>\n</div></div><div class=\"sticky__container\"><div><div class=\"sticky\"><pre><code>k=rsa; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCrrHhSmeUs0gfWL04DgtHF6hhaz0GKNRPd9i7txhu0j6QY8ZvZCCtnjtWwV7beDcqvHrzRpwsKy2jS2RGj2EEv1fszrqAWKD0QPKdi1KqhcruXRTz/jiy9STjYWAXd/pqxABLVAJf43tIKsLQtHb2TTaWPNojzZQR+J68RT0QoEQIDAQAB\n</code></pre>\nDNS TXT Eintrag für DKIM</div></div><div><p>DomainKeys Identified Mail beschreibt ein ganz ähnliches Verfahren zu SPF. Dabei wird allerdings ein Public-Key Verfahren verwendet.</p>\n<p>Im DNS TXT Eintrag wird ein öffentlicher Schlüssel hinterlegt. Jede versendete Email enthält eine mittels dem privaten Schlüssel erstellte Signatur, die der Empfänger mit dem öffentlichen Schlüssel verifizieren kann.</p>\n<h2>DMARC</h2>\n</div></div><div class=\"sticky__container\"><div><div class=\"sticky\"><pre><code>v=DMARC1; p=quarantine; pct=100; rua=mailto:re+nnsetxssyna@dmarc.postmarkapp.com,mailto:dmarc@owlabout.de; sp=quarantine; aspf=r;\n</code></pre>\nDNS TXT Eintrag für DMARC</div></div><div><p>Konfiguriert Reporting für Verletzungen von SPF bzw DKIM.</p>\n<p>Man muss einen DNS txt Eintrag anlegen. Im Beispiel werden die Mails als Spam abgelegt.</p>\n<p><a href=\"https://dmarc.postmarkapp.com/\">dmarc.postmarkapp.com</a> ist ein kostenloser Service, der wöchentliche Reports zu SPF/DKIM Verletzungen erstellt.\nDas hilft natürlich auch initial festzustellen, von welchen Servern man überhaupt Emails sendet und ob alles korrekt konfiguriert ist.</p>\n"}
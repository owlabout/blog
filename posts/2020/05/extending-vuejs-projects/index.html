<!DOCTYPE html> <html lang=de> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=app/logo-owl.png rel=icon type=image/png> <link href=client/main.3988107762.css rel=stylesheet><link href=client/[slug].e1cb1595.css rel=stylesheet><link href=client/client.7b2cd91c.css rel=stylesheet><link href=client/Icon.ec95d7e8.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Building an extendable Vue App</title><meta content="A step by step walk thorugh how to extend vue.js based product for customer specific projects" name=Description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div class="layout__posts layout"> <main class=layout__posts> <header class=svelte-anaggn><div class="svelte-anaggn container"><a href=/ class=svelte-anaggn><img alt="OwlAbout Blog Logo" src=/app/logo-blog.svg class=svelte-anaggn></a> </div></header> <div class=container><div class="has-sticky post svelte-1o3r1yk"><div class=hero__container style=--color-hero:#84ADD3><p><img alt="Man building sand castle of vue modules" src=assets/4f22341e39.svg></p> </div><h1>Building an extendable Vue App</h1> <div class=sticky__container><div><div class=sticky><p><img alt="Untameable Code Monster vs fluffy cute monsters" src=assets/e587a64fc8.png></p> </div></div><div><p>Imagine you start building a little web-app that is supposed to do exactly one thing. But then the next project for a different customer comes along which is very similar except that it needs to be able to do another thing. And maybe even a third? So you start adding on to your little application. And then you realize, that you can use this little application for an entirely different customer project, by just adding on another little feature. And at some point down the road you take a step back, and (feeling a bit like Dr. Frankenstein) you realize you've created a monster, that you cannot control.</p> <p>Sound slightly familiar? It sure does to me. I think anyone who has built an application and adapted it for multiple projects will, at some point, have realized, that there usually isn't a <em>one solution that fits all</em>. Instead you start adding feature after feature, many of which end up only being used in one single project. In effect you're shipping enormous amounts of code for extremely simple tasks.</p> <h2>Goal</h2> <p>I currently have a monster of a Vuejs project. I decided it was time to tame the asshole, reduce him to a cute and fluffy version and supply him with some extra gadgets for handling more complex or unique tasks. The endstate needed to fulfill these requirements:</p> <ul> <li>The core project has some core components and functionalities that need to <strong>always</strong> be included</li> <li>Some modules need to be included <strong>only</strong> if specified in that project</li> <li>Some components, that belong to the core project can be customized or replaced in some projects, so those components must act as a default in case that component isn't specified elsewhere.</li> <li>All components and modules need to be able to communicate with each other via a global event-bus, that is included in the core project.</li> </ul> <p>This is the general setup I came up with. <img alt="General Setup" src=assets/358cc8b59f.png></p> <h3>Customizable Modules</h3> <p>"Customizable Module" is a module, that is always included in the core project. In Project B however we might want to replace that module with a customized version. It might have a different layout or some extra functionality that is not compatible with the original functionality.</p> <h3>Plugins: Module A,B,C ...</h3> <p>Modules A, B and C are plug-ins. They can be added, they can be left out, and both will work just fine.</p> <p>To simplefy the monster, let's just say that our App.vue looks like this:</p> <pre><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>core-application<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Core Application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CoreModule</span> <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>modlues<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ModuleA</span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ModuleB</span><span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CustomizableModule</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> CoreModule <span class="token keyword">from</span> <span class="token string">"./CoreModule.vue"</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> ModuleA <span class="token keyword">from</span> <span class="token string">"./ModuleA.vue"</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> ModuleB <span class="token keyword">from</span> <span class="token string">"./ModuleB.vue"</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> CustomizableModule <span class="token keyword">from</span> <span class="token string">"./CustomizableModule.vue"</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      CoreModule<span class="token punctuation">,</span>
      ModuleA<span class="token punctuation">,</span>
      ModuleB<span class="token punctuation">,</span>
      CustomizableModule
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> <p>Each of the modules used are simple Vue components that are imported and registered in the script tag of the App.vue. Our goal is now to move module A, module B and module C to extra Node.js modules outside of our project and only import them, if specified in the configuration of our project. We also want to import a default-component as our customizable module unless a different one is specified in the configuration of our project.</p> <p>Let's do it.</p> <p>Let's start with just one module. How about (great surprise) module A. The first thing we want to do ist move everything that belongs to that module into a separate folder and turn it into an isolated node module. We'll make sure to link the module to our project during development so as not to disrupt our flow too much. If you want to see how to create and Node.js modules check out <a href=/posts/2020/05/organizing-nodejs-modules>this post</a>.</p> <p>We are just going to assume that the code of module A has already been moved to an extra node-module. We now need to adapt our application to only include module A if it is specified in a configuration file.</p> <h2>Import module only if specified in config.js</h2> </div></div><div class=sticky__container><div><div class=sticky><pre><code class=language-js><span class="token comment">// config.js for project A</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ModuleA <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ModuleB <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-b'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  ModuleA<span class="token punctuation">,</span>
  ModuleB
<span class="token punctuation">}</span>
</code></pre> <pre><code class=language-html><span class="token comment">&lt;!-- App.vue --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ModuleA</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hasModuleA()<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">"../../config.js"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    ModuleA<span class="token operator">:</span> config<span class="token punctuation">.</span>ModuleA <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    ModuleB<span class="token operator">:</span> config<span class="token punctuation">.</span>ModuleB <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    CoreModule<span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">hasModuleA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> config<span class="token punctuation">.</span>ModuleA <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> configuration for project A</div></div><div><p>First we need a configuration file, that will handle all of our imports from modules for us. This file is project-specific. So here we will import any and all modules that are not part of the core project and export them again.</p> <p>This is our config.js file if we want to import module A:</p> <pre><code class=language-js><span class="token comment">// config.js for project A</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ModuleA <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-a'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  ModuleA<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <p>Now we can go through our core project and make sure that, at any point where module A is imported, it will only be imported from our config.js. In our case this would be directly in our App.vue. So let's throw out the import of the module A component and import our config.js instead and register the component via our config.js.</p> <pre><code class=language-js><span class="token comment">// script-tag of App.vue</span>
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">"../../config.js"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    ModuleA<span class="token operator">:</span> config<span class="token punctuation">.</span>ModuleA <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    CoreModule<span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <p>Now if we exclude module A from our config.js it will be completely left out of the build. The template, however, will still try to render a component which it now cannot find. Therefore, let's make sure we know the component is there before we try to render it. V-if will help us with that.</p> <pre><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ModuleA</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hasModuleA()<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">hasModuleA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> config<span class="token punctuation">.</span>ModuleA <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> <p>There. Now for each project we can choose to include module A or not.</p> <h2>Customize or replace a component</h2> </div></div><div class=sticky__container><div><div class=sticky><pre><code class=language-html><span class="token comment">&lt;!-- App.vue --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">"../../config.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DefaultCustomComponent <span class="token keyword">from</span> <span class="token string">"./DefaultCustomComponent.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    ModuleA<span class="token operator">:</span> config<span class="token punctuation">.</span>ModuleA <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    DefaultCustomComponent<span class="token operator">:</span> config<span class="token punctuation">.</span>DefaultCustomComponent <span class="token operator">||</span> DefaultCustomComponent<span class="token punctuation">,</span>
    CoreModule<span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> <pre><code class=language-js><span class="token comment">// config.js for project A</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ModuleA <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CustomModuleX <span class="token keyword">as</span> DefaultCustomizableModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-a'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  ModuleA<span class="token punctuation">,</span>
  DefaultCustomizableModule
<span class="token punctuation">}</span>
</code></pre> customize a core-component in project A</div></div><div><p>We still have a module that we would like to customize in some of our components. For example: say we have a status bar in all of our projects. Some general functionality might be the same in every project, but certain projects might want to expand that functionality to include some extra stuff.</p> <p>Since our customizable module has some functionality that we want to be included we can't just replace the component. Because then we'd have to duplicate the functions that we want to keep. And we all know code <a href=https://en.wikipedia.org/wiki/Don%27t_repeat_yourself>duplications are evil</a>. Instead, we'll use the functionalities as a mixin. Just move the template of the component to a default component that inherits all the functionality from the base component.</p> <pre><code class=language-html><span class="token comment">&lt;!-- DefaultCustomComponent --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  default template of the custom module
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> BaseCustomModule <span class="token keyword">from</span> <span class="token string">"./BaseCustomModule.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  mixins<span class="token operator">:</span> <span class="token punctuation">[</span>BaseCustomModlule<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> <p>Now we have a component, that we can easily replace without having to duplicate the core functionalities of the core component. Similar to the component registration of Module A, we will check to see if our customized component is specified in our config.js and register that one. If not, we register the default component, that is imported normally.</p> <pre><code class=language-html><span class="token comment">&lt;!-- App.vue --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">"../../config.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DefaultCustomComponent <span class="token keyword">from</span> <span class="token string">"./DefaultCustomComponent.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    ModuleA<span class="token operator">:</span> config<span class="token punctuation">.</span>ModuleA <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    DefaultCustomComponent<span class="token operator">:</span> config<span class="token punctuation">.</span>DefaultCustomComponent <span class="token operator">||</span> DefaultCustomComponent<span class="token punctuation">,</span>
    CoreModule<span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> <p>We don't need to change anything in the template of our App.vue, because it will always have a component to render of the name "DefaultCustomComponent". It just might be a different one depending on our config.js. Ah yes, let's not forget to import our custom component in our config.js:</p> <pre><code class=language-js><span class="token comment">// config.js for project A</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ModuleA <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CustomModuleX <span class="token keyword">as</span> DefaultCustomizableModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-a'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  ModuleA<span class="token punctuation">,</span>
  DefaultCustomizableModule
<span class="token punctuation">}</span>
</code></pre> <p>The CustomModuleX that is being imported here from module-a also uses the same mixin as our default custom component. This means that it needs to import the BaseCustomComponent from the core project.</p> <div class=tip__container><p>use this syntax if you want to import a component under a different name than it was exported in the Node.js module:</p> <p><code>import { CustomModuleX as DefaultCustomizableModule } from 'module-a';</code></p> </div><h2>Communicating via Event-Bus</h2> </div></div><div class=sticky__container><div><div class=sticky><pre><code class=language-html><span class="token comment">&lt;!-- module A component --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> EventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/src/eventBus.js"</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre> import the eventbus from the core project</div></div><div><p>The original monster uses an event-bus for communication between different vue-components, that cannot simply be solved with properties. I originally figured, that this would be the biggist issue of moving components off to node modules. But node modules are not necessaril libraries. A library stands for itself and can be used independently. An extension on the other hand is used only in combination with the core project.</p> <p>Since all of our modules are very project-specific extensions, the event-bus actually does not pose a problem at all. There is no reason why the modules cannot simply import the event-bus from the core project and use it normally. Tada: intermodular communication!</p> <div class=tip__container><p><strong>Webpack lets you define aliases</strong></p> <p>It might be helpful to have an alias for your root-directory (in this case '@') when importing cross-module components. Otherwise, if your module moves to a different place in your code, everything might go to shit and you'd spend forever trying to figure out why it woult build.</p> </div><p>And that's it. Those are the basic steps we need to go through to tame our asshole of a monster and make it cute and fluffy again while still being able to customize it for any project.</p> </div> <div class="svelte-1oyd8c1 author-container"><div class="svelte-1oyd8c1 post-footer-info">19.05.2020: Building an extendable Vue App</div> <div class="svelte-1oyd8c1 author"><div class="svelte-1oyd8c1 tags"><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=vue class=svelte-13cndpw role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><title>vue</title><path d="M356.9 64.3H280l-56 88.6-48-88.6H0L224 448 448 64.3h-91.1zm-301.2 32h53.8L224 294.5 338.4 96.3h53.8L224 384.5 55.7 96.3z" fill=currentColor></path></svg></span><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=node class=svelte-13cndpw role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><title>node</title><path d="M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z" fill=currentColor></path></svg></span><span class=svelte-1oyd8c1><svg aria-hidden=true aria-label=webDesign class=svelte-13cndpw role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><title>webDesign</title><path d="M136.6 138.79a64.003 64.003 0 0 0-43.31 41.35L0 460l14.69 14.69L164.8 324.58c-2.99-6.26-4.8-13.18-4.8-20.58 0-26.51 21.49-48 48-48s48 21.49 48 48-21.49 48-48 48c-7.4 0-14.32-1.81-20.58-4.8L37.31 497.31 52 512l279.86-93.29a64.003 64.003 0 0 0 41.35-43.31L416 224 288 96l-151.4 42.79zm361.34-64.62l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91z" fill=currentColor></path></svg></span></div> <div class="svelte-1oyd8c1 thumbnail"><img alt="" src=/images/becca.jpg></div> <div class="svelte-1oyd8c1 info"><b>Becca Roberts</b> <p class=svelte-1oyd8c1>Software developer working mainly with Vue.js. I do some web-design stuff in my free time. I'm still at the beginning, learning lots every day and I try to explain stuff ein learn the way I wish it might have been explained to me.</div></div> </div></div></div></div></main> <footer class=svelte-1txo2c3><div class="svelte-1txo2c3 container"><a href=https://owlabout.de/impressum.html class=svelte-1txo2c3 rel=noopener>Impressum</a> <a href=https://owlabout.de/datenschutz.html class=svelte-1txo2c3 rel=noopener>Datenschutz </a> <a href=https://owlabout.de/#contact class=svelte-1txo2c3 rel=noopener>Kontakt</a> <a href=https://owlabout.de/ class=svelte-1txo2c3 rel=noopener><img alt=owlabout src=/app/logo-owl.png class=svelte-1txo2c3></a></div></footer></div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,null,null,(function(a){return {post:{title:a,metadata:{slug:"extending-vuejs-projects",link:"\u002Fposts\u002F2020\u002F05\u002Fextending-vuejs-projects",dateString:"19.05.2020",date:"2020-05-19T00:00:00.000Z",author:"Becca",lang:"en",thumbnail:"assets\u002F4f22341e39.svg",title:a,description:"A step by step walk thorugh how to extend vue.js based product for customer specific projects",tags:["vue"],file:"posts\u002Fvue\u002Fextending-vuejs-projects.md"},html:"\u003Cdiv class=\"hero__container\"  style='--color-hero: #84ADD3;'\u003E\u003Cp\u003E\u003Cimg src=\"assets\u002F4f22341e39.svg\" alt=\"Man building sand castle of vue modules\"\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\u003Ch1\u003EBuilding an extendable Vue App\u003C\u002Fh1\u003E\n\u003Cdiv class=\"sticky__container\"\u003E\u003Cdiv\u003E\u003Cdiv class=\"sticky\"\u003E\u003Cp\u003E\u003Cimg src=\"assets\u002Fe587a64fc8.png\" alt=\"Untameable Code Monster vs fluffy cute monsters\"\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv\u003E\u003Cp\u003EImagine you start building a little web-app that is supposed to do exactly one thing. But then the next project for a different customer comes along which is very similar except that it needs to be able to do another thing. And maybe even a third? So you start adding on to your little application. And then you realize, that you can use this little application for an entirely different customer project, by just adding on another little feature. And at some point down the road you take a step back, and (feeling a bit like Dr. Frankenstein) you realize you've created a monster, that you cannot control.\u003C\u002Fp\u003E\n\u003Cp\u003ESound slightly familiar? It sure does to me. I think anyone who has built an application and adapted it for multiple projects will, at some point, have realized, that there usually isn't a \u003Cem\u003Eone solution that fits all\u003C\u002Fem\u003E. Instead you start adding feature after feature, many of which end up only being used in one single project. In effect you're shipping enormous amounts of code for extremely simple tasks.\u003C\u002Fp\u003E\n\u003Ch2\u003EGoal\u003C\u002Fh2\u003E\n\u003Cp\u003EI currently have a monster of a Vuejs project. I decided it was time to tame the asshole, reduce him to a cute and fluffy version and supply him with some extra gadgets for handling more complex or unique tasks. The endstate needed to fulfill these requirements:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe core project has some core components and functionalities that need to \u003Cstrong\u003Ealways\u003C\u002Fstrong\u003E be included\u003C\u002Fli\u003E\n\u003Cli\u003ESome modules need to be included \u003Cstrong\u003Eonly\u003C\u002Fstrong\u003E if specified in that project\u003C\u002Fli\u003E\n\u003Cli\u003ESome components, that belong to the core project can be customized or replaced in some projects, so those components must act as a default in case that component isn't specified elsewhere.\u003C\u002Fli\u003E\n\u003Cli\u003EAll components and modules need to be able to communicate with each other via a global event-bus, that is included in the core project.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThis is the general setup I came up with.\n\u003Cimg src=\"assets\u002F358cc8b59f.png\" alt=\"General Setup\"\u003E\u003C\u002Fp\u003E\n\u003Ch3\u003ECustomizable Modules\u003C\u002Fh3\u003E\n\u003Cp\u003E&quot;Customizable Module&quot; is a module, that is always included in the core project. In Project B however we might want to replace that module with a customized version. It might have a different layout or some extra functionality that is not compatible with the original functionality.\u003C\u002Fp\u003E\n\u003Ch3\u003EPlugins: Module A,B,C ...\u003C\u002Fh3\u003E\n\u003Cp\u003EModules A, B and C are plug-ins. They can be added, they can be left out, and both will work just fine.\u003C\u002Fp\u003E\n\u003Cp\u003ETo simplefy the monster, let's just say that our App.vue looks like this:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003Ecore-application\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Eh1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003ECore Application\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Eh1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003Econtainer\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003ECoreModule\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003Emodlues\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003EModuleA\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003EModuleB\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003ECustomizableModule\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n  \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E CoreModule \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FCoreModule.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E ModuleA \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FModuleA.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E ModuleB \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FModuleB.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E CustomizableModule \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FCustomizableModule.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    components\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      CoreModule\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      ModuleA\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      ModuleB\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      CustomizableModule\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EEach of the modules used are simple Vue components that are imported and registered in the script tag of the App.vue. Our goal is now to move module A, module B and module C to extra Node.js modules outside of our project and only import them, if specified in the configuration of our project. We also want to import a default-component as our customizable module unless a different one is specified in the configuration of our project.\u003C\u002Fp\u003E\n\u003Cp\u003ELet's do it.\u003C\u002Fp\u003E\n\u003Cp\u003ELet's start with just one module. How about (great surprise) module A.\nThe first thing we want to do ist move everything that belongs to that module into a separate folder and turn it into an isolated node module. We'll make sure to link the module to our project during development so as not to disrupt our flow too much. If you want to see how to create and Node.js modules check out \u003Ca href=\"\u002Fposts\u002F2020\u002F05\u002Forganizing-nodejs-modules\"\u003Ethis post\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EWe are just going to assume that the code of module A has already been moved to an extra node-module. We now need to adapt our application to only include module A if it is specified in a configuration file.\u003C\u002Fp\u003E\n\u003Ch2\u003EImport module only if specified in config.js\u003C\u002Fh2\u003E\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"sticky__container\"\u003E\u003Cdiv\u003E\u003Cdiv class=\"sticky\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F config.js for project A\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E ModuleA \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E ModuleB \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-b'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  ModuleA\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  ModuleB\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token comment\"\u003E&lt;!-- App.vue --\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003EModuleA\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Ev-if\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003EhasModuleA()\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E config \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"..\u002F..\u002Fconfig.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  components\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    ModuleA\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleA \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    ModuleB\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleB \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    CoreModule\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  methods\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token function\"\u003EhasModuleA\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleA \u003Cspan class=\"token operator\"\u003E!==\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eundefined\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\nconfiguration for project A\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv\u003E\u003Cp\u003EFirst we need a configuration file, that will handle all of our imports from modules for us. This file is project-specific. So here we will import any and all modules that are not part of the core project and export them again.\u003C\u002Fp\u003E\n\u003Cp\u003EThis is our config.js file if we want to import module A:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F config.js for project A\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E ModuleA \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  ModuleA\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow we can go through our core project and make sure that, at any point where module A is imported, it will only be imported from our config.js.\nIn our case this would be directly in our App.vue. So let's throw out the import of the module A component and import our config.js instead and register the component via our config.js.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F script-tag of App.vue\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E config \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"..\u002F..\u002Fconfig.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  components\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    ModuleA\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleA \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    CoreModule\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow if we exclude module A from our config.js it will be completely left out of the build. The template, however, will still try to render a component which it now cannot find. Therefore, let's make sure we know the component is there before we try to render it. V-if will help us with that.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  ...\n  \u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003EModuleA\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Ev-if\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003EhasModuleA()\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  ...\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\n  methods\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token function\"\u003EhasModuleA\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleA \u003Cspan class=\"token operator\"\u003E!==\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eundefined\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThere. Now for each project we can choose to include module A or not.\u003C\u002Fp\u003E\n\u003Ch2\u003ECustomize or replace a component\u003C\u002Fh2\u003E\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"sticky__container\"\u003E\u003Cdiv\u003E\u003Cdiv class=\"sticky\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token comment\"\u003E&lt;!-- App.vue --\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E config \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"..\u002F..\u002Fconfig.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E DefaultCustomComponent \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FDefaultCustomComponent.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  components\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    ModuleA\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleA \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    DefaultCustomComponent\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EDefaultCustomComponent \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E DefaultCustomComponent\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    CoreModule\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F config.js for project A\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E ModuleA \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E CustomModuleX \u003Cspan class=\"token keyword\"\u003Eas\u003C\u002Fspan\u003E DefaultCustomizableModule \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  ModuleA\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  DefaultCustomizableModule\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\ncustomize a core-component in project A\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv\u003E\u003Cp\u003EWe still have a module that we would like to customize in some of our components. For example: say we have a status bar in all of our projects. Some general functionality might be the same in every project, but certain projects might want to expand that functionality to include some extra stuff.\u003C\u002Fp\u003E\n\u003Cp\u003ESince our customizable module has some functionality that we want to be included we can't just replace the component. Because then we'd have to duplicate the functions that we want to keep. And we all know code \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FDon%27t_repeat_yourself\"\u003Eduplications are evil\u003C\u002Fa\u003E.\nInstead, we'll use the functionalities as a mixin. Just move the template of the component to a default component that inherits all the functionality from the base component.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token comment\"\u003E&lt;!-- DefaultCustomComponent --\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  default template of the custom module\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E BaseCustomModule \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FBaseCustomModule.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  mixins\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003EBaseCustomModlule\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow we have a component, that we can easily replace without having to duplicate the core functionalities of the core component. Similar to the component registration of Module A, we will check to see if our customized component is specified in our config.js and register that one. If not, we register the default component, that is imported normally.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token comment\"\u003E&lt;!-- App.vue --\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E config \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"..\u002F..\u002Fconfig.js\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E DefaultCustomComponent \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\".\u002FDefaultCustomComponent.vue\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  components\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    ModuleA\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EModuleA \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    DefaultCustomComponent\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E config\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EDefaultCustomComponent \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E DefaultCustomComponent\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    CoreModule\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWe don't need to change anything in the template of our App.vue, because it will always have a component to render of the name &quot;DefaultCustomComponent&quot;. It just might be a different one depending on our config.js. Ah yes, let's not forget to import our custom component in our config.js:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F config.js for project A\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E ModuleA \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E CustomModuleX \u003Cspan class=\"token keyword\"\u003Eas\u003C\u002Fspan\u003E DefaultCustomizableModule \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'module-a'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  ModuleA\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  DefaultCustomizableModule\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe CustomModuleX that is being imported here from module-a also uses the same mixin as our default custom component. This means that it needs to import the BaseCustomComponent from the core project.\u003C\u002Fp\u003E\n\u003Cdiv class=\"tip__container\"\u003E\u003Cp\u003Euse this syntax if you want to import a component under a different name than it was  exported in the Node.js module:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Eimport { CustomModuleX as DefaultCustomizableModule } from 'module-a';\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\u003Ch2\u003ECommunicating via Event-Bus\u003C\u002Fh2\u003E\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"sticky__container\"\u003E\u003Cdiv\u003E\u003Cdiv class=\"sticky\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token comment\"\u003E&lt;!-- module A component --\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n  \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E EventBus \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"@\u002Fsrc\u002FeventBus.js\"\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\nimport the eventbus from the core project\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cdiv\u003E\u003Cp\u003EThe original monster uses an event-bus for communication between different vue-components, that cannot simply be solved with properties. I originally figured, that this would be the biggist issue of moving components off to node modules. But node modules are not necessaril libraries.  A library stands for itself and can be used independently. An extension on the other hand is used only in combination with the core project.\u003C\u002Fp\u003E\n\u003Cp\u003ESince all of our modules are very project-specific extensions, the event-bus actually does not pose a problem at all. There is no reason why the modules cannot simply import the event-bus from the core project and use it normally. Tada: intermodular communication!\u003C\u002Fp\u003E\n\u003Cdiv class=\"tip__container\"\u003E\u003Cp\u003E\u003Cstrong\u003EWebpack lets you define aliases\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EIt might be helpful to have an alias for your root-directory (in this case '@') when importing cross-module components. Otherwise, if your module moves to a different place in your code, everything might go to shit and you'd spend forever trying to figure out why it woult build.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\u003Cp\u003EAnd that's it. Those are the basic steps we need to go through to tame our asshole of a monster and make it cute and fluffy again while still being able to customize it for any project.\u003C\u002Fp\u003E\n"}}}("Building an extendable Vue App"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.7b2cd91c.js"}catch(e){main="/client/legacy/client.fdd6d4c4.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 